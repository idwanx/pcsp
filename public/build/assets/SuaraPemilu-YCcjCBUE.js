import{q as T,r as m,W as A,j as e,a as K,d as j}from"./app-6RLzZHMa.js";import{A as C}from"./App-WXVE8fQ7.js";import{P as D,U as R}from"./Panel-Scq_XwG6.js";import B from"./SideBar-IxdLSJd7.js";import{P as E}from"./Pagination-smNyEXud.js";import{T as L}from"./TextInput-P23QoZnm.js";import U from"./PanelKandidat-vuqXGg84.js";import{B as J}from"./ButtonIcon-YGttqW2M.js";import{I as O}from"./InputError-j0SWn2IH.js";import{A as $}from"./ArrowLongRightIcon-b3TMXPZt.js";import{A as q}from"./ArrowLeftCircleIcon-S_fcMpO6.js";import"./transition-EN_hejpI.js";import"./dialog-q-B_3Qlj.js";import"./XMarkIcon-ZO5G15E4.js";import"./Bars3Icon-uws8xOm9.js";import"./UserCircleIcon-_u9AY2uj.js";import"./UserIcon-ovuergif.js";import"./ResponsiveSideBarLink-LQ-wsWuw.js";import"./ComputerDesktopIcon-XiotMWdA.js";import"./ArrowRightIcon-bK_9YCzl.js";const F=({active:t=!1,className:d="",children:r,...l})=>e.jsx(j,{...l,className:`tracking-wide group relative flex items-center gap-x-2 rounded-lg p-2 text-sm ${t?"border-gray-400 text-gray-700 bg-gray-200 focus:text-gray-800 focus:bg-gray-100 focus:border-gray-700":"border-transparent text-gray-500 hover:text-gray-800 hover:bg-slate-100 hover:border-gray-300 focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300"} text-base font-medium focus:outline-none transition duration-150 ease-in-out ${d}`,children:r});function M(t){const{data:d,meta:r}=t.tpsuara,{partai:l,tahun:o,pemilu:x,menupemilu:N,dapil:p,dataKandidat:W}=T().props,[y,c]=m.useState(!1),[a,h]=m.useState(""),[f,v]=m.useState([]),n=N.filter(s=>s.id==x.id).flatMap(s=>s.dapils),{data:u,setData:g,post:b,errors:w,processing:k}=A({suara_rusak:""}),S=()=>{window.history.back()},_=s=>{h(s),v(s),c(!0)},P=s=>{s.preventDefault(),b(route("inputsuara.storesuararusak",{partai:l,tahun:o,tpsuara:a.id}),{preserveScroll:!0})},I=s=>{h(s),g({...u,tpsuara_id:s.id,suara_rusak:s.suararusaks_count})};return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Suara TPS"}),e.jsx(D,{isOpen:y,closeable:!0,setIsOpen:c,children:e.jsx(U,{model:f,setIsPanelKandidat:c,judul:"Perolahen Suara"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 sm:gap-6",children:[e.jsx("div",{className:"hidden sm:w-1/5 lg:block md:hidden",children:e.jsxs("div",{className:"space-y-4 -mt-12 pt-12 lg:sticky lg:top-8 lg:col-start-2 lg:row-span-2 lg:row-start-1 lg:overflow-hidden",children:[e.jsx(B,{}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"relative w-full overscroll-auto",children:e.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"sticky top-0",children:e.jsx("p",{className:"text-md font-semibold text-gray-600",children:"Daftar Dapil"})}),n==null?void 0:n.map((s,i)=>e.jsxs(F,{className:"flex items-center text-sm",href:route(route().current(),{partai:l,tahun:o,pemilu:x.id,dapil:s.id}),active:p?p.id==s.id:"",children:[e.jsx($,{className:"h-5 w-5","aria-hidden":"true"}),s.nama_dapil]},i))]})})})})]})}),e.jsx("div",{className:"w-full lg:w-4/5 sm:w-full",children:e.jsxs("div",{className:"flex lg:gap-6 sm:gap-2 lg:p-0 p-2",children:[e.jsx("div",{className:"w-full shrink-0 lg:w-2/3 md:w-2/3",children:e.jsxs("div",{className:"space-y-3 bg-white shadow-sm sm:rounded-lg text-sm p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"focus:outline-none text-base sm:text-lg md:text-xl lg:text-xl font-bold leading-normal text-gray-600",children:"Daftar TPS"}),e.jsx("button",{type:"button",onClick:()=>S(),children:e.jsx(q,{className:"w-7 h-7 text-gray-400 hover:text-purple-500"})})]}),e.jsx("hr",{}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-fixed",children:[e.jsx("thead",{className:"uppercase text-xs rounded-t-lg bg-gray-100",children:e.jsxs("tr",{className:"text-center font-semibold text-gray-600 border-b",children:[e.jsx("th",{style:{width:"4%"},className:"p-3 text-center",children:"No"}),e.jsxs("th",{style:{width:"22%"},className:"p-3 text-left",children:["Kecamatan/",e.jsx("br",{}),"Desa"]}),e.jsx("th",{style:{width:"24%"},className:"p-3 text-left",children:"Nama TPS"}),e.jsx("th",{style:{width:"10%"},className:"p-3 text-center",children:"Jumlah Pemilih"}),e.jsx("th",{style:{width:"10%"},className:"p-3 text-center",children:"Suara Sah"}),e.jsx("th",{style:{width:"10%"},className:"p-3 text-center",children:"Suara Rusak"}),e.jsx("th",{style:{width:"10%"},className:"p-3 text-center",children:"Sisa Suara"}),e.jsx("th",{style:{width:"10%"},className:"p-3 text-center",children:"Aksi"})]})}),e.jsx("tbody",{className:"text-gray-500",children:d.map((s,i)=>e.jsxs("tr",{className:"border-b border-opacity-20 hover:bg-slate-50",children:[e.jsx("td",{className:"px-3 py-2 text-center font-medium",children:r.from+i}),e.jsxs("td",{className:"px-3 py-2 text-left",children:[s.nama_kecamatan,"/",e.jsx("br",{}),s.nama_desa]}),e.jsx("td",{className:"px-3 py-2 text-left",children:e.jsx(j,{className:"underline",onClick:()=>I(s),preserveState:!0,children:s.nama_tpsuara})}),e.jsx("td",{className:"px-3 py-2 text-center",children:s.jlh_pemilih}),e.jsx("td",{className:"px-3 py-2 text-center",children:s.calontpsuaras_count}),e.jsx("td",{className:"px-3 py-2 text-center",children:s.suararusaks_count}),e.jsx("td",{className:"px-3 py-2 text-center",children:s.jlh_pemilih-(s.calontpsuaras_count+s.suararusaks_count)}),e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("button",{onClick:()=>_(s),children:e.jsx(R,{className:"w-4 h-4 inline text-gray-600 -mt-0.5"})})})]},i))})]})}),e.jsx("div",{className:"flex justify-center text-sm pt-6",children:e.jsx(E,{meta:r})})]})}),e.jsx("div",{className:"hidden md:block lg:w-1/3 md:w-1/3",children:e.jsx("div",{className:"space-y-4 -mt-12 pt-12 lg:sticky lg:top-8 lg:col-start-2 lg:row-span-2 lg:row-start-1 lg:overflow-hidden",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"relative w-full overscroll-auto",children:e.jsx("div",{className:"relative bg-white py-2 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("div",{className:"sticky top-0 px-4",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Info TPS"})}),e.jsx("hr",{className:"mt-2"}),e.jsx("div",{className:"lg:h-[38rem] 2xl:h-[44rem] overflow-x-hidden overflow-y-auto pt-4 px-4",children:e.jsx("div",{className:"mt-1",children:e.jsxs("dl",{className:"divide-y divide-gray-100",children:[e.jsxs("div",{className:"grid grid-cols-3 py-0.5 items-center",children:[e.jsx("div",{className:"text-sm font-medium leading-6 text-gray-900",children:"Nama TPS"}),e.jsx("div",{className:"text-sm col-span-2 leading-6 text-gray-700",children:a.nama_tpsuara})]}),e.jsxs("div",{className:"grid grid-cols-3 py-0.5 items-center",children:[e.jsx("div",{className:"text-sm font-medium leading-6 text-gray-900",children:"Desa"}),e.jsx("div",{className:"text-sm leading-6 text-gray-700",children:a.nama_desa})]}),e.jsxs("div",{className:"grid grid-cols-3 py-0.5 items-center",children:[e.jsx("div",{className:"text-sm font-medium leading-6 text-gray-900",children:"Kecamatan"}),e.jsx("div",{className:"text-sm leading-6 text-gray-700",children:a.nama_kecamatan})]}),e.jsxs("div",{className:"grid grid-cols-3 py-0.5 items-center",children:[e.jsx("div",{className:"text-sm font-medium leading-6 text-gray-900",children:"Jlh. Pemilih"}),e.jsx("div",{className:"text-sm leading-6 text-gray-700",children:a.jlh_pemilih})]}),e.jsxs("div",{className:"grid grid-cols-3 py-0.5 items-center",children:[e.jsx("div",{className:"text-sm font-medium leading-6 text-gray-900",children:"Suara Sah"}),e.jsx("div",{className:"text-sm leading-6 text-gray-700",children:a.calontpsuaras_count})]}),e.jsxs("div",{className:"grid grid-cols-3 py-0.5 items-center",children:[e.jsx("div",{className:"text-sm font-medium leading-6 text-gray-900",children:"Suara Rusak"}),a?e.jsxs("form",{onSubmit:P,className:"flex col-span-2 mt-1 gap-2 items-center justify-between",children:[e.jsx(L,{id:"suara_rusak",type:"number",name:"suara_rusak",value:u.suara_rusak,className:"block w-full",autoComplete:"suara_rusak",onChange:s=>g("suara_rusak",s.target.value)}),e.jsx("span",{children:e.jsx(J,{disabled:k,children:e.jsx("span",{children:"Update"})})})]}):""]}),e.jsx(O,{message:w.suara_rusak,className:"mt-2"})]})})})]})})})})})})]})})]})]})}M.layout=t=>e.jsx(C,{children:t});export{M as default};
